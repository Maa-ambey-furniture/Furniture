<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maa Ambey Furniture - Ajmer</title>
    <style>
        :root { --primary-grad: linear-gradient(90deg, #ff4b2b 0%, #ff416c 100%); --dark: #0f172a; }
        body { font-family: 'Segoe UI', sans-serif; margin: 0; padding: 0; background: #f8fafc; overflow-x: hidden; }
        
        /* --- 1. Header & Branding --- */
        header { background: #fff; padding: 10px 5%; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 1000; }
        .logo-text h1 { background: var(--primary-grad); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin: 0; font-size: 22px; font-weight: 900; }

        /* --- 2. Hero Section (Sidebar + Slider) --- */
        .hero-container { display: flex; flex-wrap: wrap; background: #fff; }
        .sidebar-menu { width: 260px; background: var(--dark); color: white; padding: 25px; }
        .sidebar-menu ul { list-style: none; padding: 0; }
        .sidebar-menu li { padding: 12px 0; border-bottom: 1px solid #1e293b; cursor: pointer; transition: 0.3s; }
        .sidebar-menu li:hover { color: #ff4b2b; padding-left: 10px; }

        .slider-box { flex: 1; min-width: 350px; position: relative; height: 450px; overflow: hidden; }
        .slider-img { width: 100%; height: 100%; object-fit: cover; transition: opacity 0.8s; }
        .slider-overlay { position: absolute; bottom: 0; width: 100%; background: linear-gradient(transparent, rgba(0,0,0,0.8)); padding: 40px 20px; color: white; }

        /* --- 3. Holi Overlay & Smoke --- */
        #holiOverlay { position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 9999; display: flex; flex-direction: column; align-items: center; justify-content: center; transition: opacity 1.5s; }
        #smokeCanvas { position: absolute; inset: 0; pointer-events: none; }
        .play-btn { background: var(--primary-grad); color: white; border: none; padding: 12px 25px; border-radius: 50px; font-weight: bold; cursor: pointer; margin-top: 20px; z-index: 10; box-shadow: 0 4px 15px rgba(255, 75, 43, 0.4); }
        .color-drop { position: absolute; width: 10px; height: 10px; border-radius: 50%; animation: fall linear forwards; opacity: 0.6; }
        @keyframes fall { to { transform: translateY(100vh) rotate(360deg); opacity: 0; } }

        /* --- 4. Lead Form Section --- */
        .enquiry-section { background: var(--primary-grad); padding: 40px 5%; color: white; text-align: center; }
        .horizontal-form { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; max-width: 1000px; margin: auto; }
        .horizontal-form input { padding: 12px; border: none; border-radius: 8px; flex: 1; min-width: 200px; color: #333; }
        .submit-btn { background: var(--dark); color: white; border: none; padding: 12px 30px; border-radius: 8px; font-weight: bold; cursor: pointer; transition: 0.3s; }
        .submit-btn:disabled { background: #64748b; cursor: not-allowed; }

        footer { background: linear-gradient(135deg, #ff4b2b 0%, #000 100%); color: white; padding: 40px 5%; text-align: center; }
        @media (max-width: 768px) { .sidebar-menu { width: 100%; } .slider-box { height: 300px; } }
    </style>
</head>
<body>

<div id="holiOverlay">
    <canvas id="smokeCanvas"></canvas>
    <div id="loader" style="border: 4px solid #333; border-top: 4px solid #ff4b2b; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite;"></div>
    <div id="holiWish" style="display: none; text-align: center; z-index: 5;">
        <img src="https://img.freepik.com/free-vector/happy-holi-festival-colors-greeting-background_1017-31038.jpg" style="max-width: 70%; border-radius: 15px; box-shadow: 0 0 20px #ff4b2b;">
        <h2 style="color: white; margin-top: 15px;">MAA AMBEY FURNITURE</h2>
        <button class="play-btn" onclick="startExperience()">üéµ Enter & Play Music</button>
    </div>
    <div id="colorContainer" style="position: absolute; inset: 0; pointer-events: none;"></div>
</div>

<audio id="holiMusic" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" loop></audio>

<header>
    <div class="logo-text"><h1>MAA AMBEY FURNITURE</h1></div>
    <div style="color:#ff4b2b; font-weight:bold;">Ajmer, Rajasthan</div>
</header>

<div class="hero-container">
    <aside class="sidebar-menu">
        <h3>Our Services</h3>
        <ul>
            <li>üõãÔ∏è Sofa Repair & Polish</li>
            <li>üõèÔ∏è Bed & Door Work</li>
            <li>üç≥ Modular Kitchen</li>
            <li>üè¢ Office Interior</li>
        </ul>
    </aside>
    <div class="slider-box">
        <img id="sliderImg" src="https://images.unsplash.com/photo-1555041469-a586c61ea9bc?w=1000" class="slider-img">
        <div class="slider-overlay"><h2 id="sliderTitle">Premium Sofa Designs</h2></div>
    </div>
</div>

<section class="enquiry-section">
    <h2>Get a Free Quote</h2>
    <form class="horizontal-form" id="enquiryForm">
        <input type="text" placeholder="Aapka Naam" required>
        <input type="tel" placeholder="Mobile Number" required>
        <input type="text" placeholder="Service (e.g. Sofa Repair)" required>
        <button type="submit" class="submit-btn">Send Enquiry</button>
    </form>
</section>

<footer>
    <p>¬© 2026 Maa Ambey Furniture | High-Quality Interior & Repair</p>
</footer>

<script>
    // --- 1. FORM SUBMISSION (Sheet + WhatsApp Fix) ---
    document.getElementById('enquiryForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const btn = e.target.querySelector('button');
        btn.innerText = "Sending..."; btn.disabled = true;

        const name = e.target[0].value;
        const phone = e.target[1].value;
        const service = e.target[2].value;

        const formData = new FormData();
        formData.append('name', name);
        formData.append('phone', phone);
        formData.append('msg', message); // Yeh value Sheet ke 'Message' column mein jayegi

        fetch('https://script.google.com/macros/s/AKfycbw7bN2vXRY_BLYr1Lo7brDX6O0MQ8R-WlGBmiBlPCYl1NHqMVQ4IQKf0uSAiz2_XnrHuA/exec', { method: 'POST', body: formData })
        .then(() => {
            alert("Dhanyawad! Maa Ambey Furniture mein aapki enquiry save ho gayi hai.");
            const waMsg = `Pranam! Maa Ambey Furniture, Ajmer.%0AName: ${name}%0APhone: ${phone}%0AService: ${service}`;
            window.open(`https://wa.me/91XXXXXXXXXX?text=${waMsg}`, '_blank'); // Admin Phone
            e.target.reset();
            btn.innerText = "Send Enquiry"; btn.disabled = false;
        })
        .catch(() => {
            alert("Error! Data nahi bheja ja saka.");
            btn.innerText = "Send Enquiry"; btn.disabled = false;
        });
    });

    // --- 2. HOLI EXPERIENCE & MUSIC AUTO-STOP ---
    let colorInterval;
    const canvas = document.getElementById('smokeCanvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth; canvas.height = window.innerHeight;
    let particles = [];

    class Particle {
        constructor() {
            this.x = Math.random()*canvas.width; this.y = canvas.height+50;
            this.size = Math.random()*25+10; this.speedY = Math.random()*0.4+0.2;
            this.opacity = 1; this.color = ['rgba(255,75,43,0.3)', 'rgba(255,215,0,0.3)'][Math.floor(Math.random()*2)];
        }
        update() { this.y -= this.speedY; if (this.opacity > 0) this.opacity -= 0.002; }
        draw() { ctx.globalAlpha = this.opacity; ctx.fillStyle = this.color; ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI*2); ctx.fill(); }
    }

    function animate() {
        ctx.clearRect(0,0,canvas.width,canvas.height);
        if(particles.length < 40) particles.push(new Particle());
        particles.forEach((p,i) => { p.update(); p.draw(); if(p.opacity <= 0) particles.splice(i,1); });
        if(document.getElementById('holiOverlay').style.display !== 'none') requestAnimationFrame(animate);
    }

    function startExperience() {
        const music = document.getElementById('holiMusic');
        const overlay = document.getElementById('holiOverlay');
        if(music) music.play().catch(() => console.log("Music blocked"));
        
        document.querySelector('.play-btn').style.display='none';
        animate(); 
        colorInterval = setInterval(createDrop, 400); // Slow-Mo Gulaal

        // 10 SECOND TIMER TO STOP EVERYTHING
        setTimeout(() => {
            overlay.style.opacity = '0';
            setTimeout(() => {
                overlay.style.display = 'none';
                if(music) { music.pause(); music.currentTime = 0; } // Music Stop Fix
                clearInterval(colorInterval);
            }, 1500);
        }, 10000);
    }

    function createDrop() {
        const container = document.getElementById('colorContainer');
        const drop = document.createElement('div');
        drop.className = 'color-drop';
        drop.style.left = Math.random()*100+'vw';
        drop.style.backgroundColor = ['#ff4b2b', '#ffd700', '#22c55e'][Math.floor(Math.random()*3)];
        drop.style.animationDuration = (Math.random()*4+4)+'s';
        container.appendChild(drop); setTimeout(() => drop.remove(), 8000);
    }

    // --- 3. LOADER SAFETY TIMER (Anti-Hang) ---
    window.onload = () => {
        setTimeout(() => {
            const loader = document.getElementById('loader');
            const wish = document.getElementById('holiWish');
            if(loader) loader.style.display = 'none';
            if(wish) wish.style.display = 'block';
        }, 1500);

        setTimeout(() => {
            const overlay = document.getElementById('holiOverlay');
            if(overlay && overlay.style.display !== 'none' && document.getElementById('holiWish').style.display === 'none') {
                overlay.style.display = 'none'; // Force close
            }
        }, 5000);
    };

    // --- 4. AUTO SLIDER ---
    const slides = [
        {img: "https://images.unsplash.com/photo-1555041469-a586c61ea9bc?w=1000", title: "Premium Sofa Designs"},
        {img: "https://images.unsplash.com/photo-1505691723518-36a5ac3be353?w=1000", title: "Luxury Bed Collection"}
    ];
    let sIdx = 0;
    setInterval(() => {
        sIdx = (sIdx + 1) % slides.length;
        const img = document.getElementById('sliderImg');
        img.style.opacity = '0';
        setTimeout(() => {
            img.src = slides[sIdx].img;
            document.getElementById('sliderTitle').innerText = slides[sIdx].title;
            img.style.opacity = '1';
        }, 400);
    }, 4000);
</script>
<style> @keyframes spin { 100% { transform: rotate(360deg); } } </style>
</body>
</html>
